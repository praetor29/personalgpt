{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LazyEvt = void 0;\nvar overwriteReadonlyProp_1 = require(\"tsafe/lab/overwriteReadonlyProp\");\nvar importProxy_1 = require(\"./importProxy\");\nvar LazyEvt = /** @class */function () {\n  function LazyEvt() {\n    this.initialPostCount = 0;\n  }\n  Object.defineProperty(LazyEvt.prototype, \"evt\", {\n    get: function () {\n      if (this.__evt === undefined) {\n        this.__evt = new importProxy_1.importProxy.Evt();\n        (0, overwriteReadonlyProp_1.overwriteReadonlyProp)(this.__evt, \"postCount\", this.initialPostCount);\n      }\n      return this.__evt;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  LazyEvt.prototype.__post = function (data, doWait) {\n    if (this.__evt === undefined) {\n      return ++this.initialPostCount;\n    }\n    return this.__evt[doWait ? \"postAndWait\" : \"post\"](data);\n  };\n  LazyEvt.prototype.post = function (data) {\n    return this.__post(data, false);\n  };\n  LazyEvt.prototype.postAndWait = function (data) {\n    return this.__post(data, true);\n  };\n  return LazyEvt;\n}();\nexports.LazyEvt = LazyEvt;","map":{"version":3,"names":["overwriteReadonlyProp_1","require","importProxy_1","LazyEvt","initialPostCount","Object","defineProperty","prototype","get","__evt","undefined","importProxy","Evt","overwriteReadonlyProp","__post","data","doWait","post","postAndWait","exports"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\evt-npm-2.5.3-c2ac0365d2-10c0.zip\\node_modules\\evt\\src\\lib\\LazyEvt.ts"],"sourcesContent":["import { overwriteReadonlyProp } from \"tsafe/lab/overwriteReadonlyProp\";\nimport { importProxy } from \"./importProxy\";\nimport type { Evt } from \"./types\";\n\nexport class LazyEvt<T> {\n\n    private initialPostCount = 0;\n\n    get evt(): Evt<T> {\n\n        if (this.__evt === undefined) {\n            this.__evt = new importProxy.Evt();\n            overwriteReadonlyProp(this.__evt, \"postCount\", this.initialPostCount);\n        }\n\n        return this.__evt;\n\n    }\n\n    declare private __evt: Evt<T>;\n\n    private __post(data: T, doWait: false): number;\n    private __post(data: T, doWait: true): Promise<void>;\n    private __post(data: T, doWait: boolean): number | Promise<void> {\n\n        if (this.__evt === undefined) {\n\n            return ++this.initialPostCount;\n\n        }\n\n        return this.__evt[doWait ? \"postAndWait\" : \"post\"](data);\n\n    }\n\n    post(data: T) {\n        return this.__post(data, false);\n    }\n\n    postAndWait(data: T) {\n        return this.__post(data, true);\n    }\n\n}\n"],"mappings":";;;;;;AAAA,IAAAA,uBAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AAGA,IAAAE,OAAA;EAAA,SAAAA,QAAA;IAEY,KAAAC,gBAAgB,GAAG,CAAC;EAqChC;EAnCIC,MAAA,CAAAC,cAAA,CAAIH,OAAA,CAAAI,SAAA,OAAG;SAAP,SAAAC,CAAA;MAEI,IAAI,IAAI,CAACC,KAAK,KAAKC,SAAS,EAAE;QAC1B,IAAI,CAACD,KAAK,GAAG,IAAIP,aAAA,CAAAS,WAAW,CAACC,GAAG,EAAE;QAClC,IAAAZ,uBAAA,CAAAa,qBAAqB,EAAC,IAAI,CAACJ,KAAK,EAAE,WAAW,EAAE,IAAI,CAACL,gBAAgB,CAAC;;MAGzE,OAAO,IAAI,CAACK,KAAK;IAErB,CAAC;;;;EAMON,OAAA,CAAAI,SAAA,CAAAO,MAAM,GAAd,UAAeC,IAAO,EAAEC,MAAe;IAEnC,IAAI,IAAI,CAACP,KAAK,KAAKC,SAAS,EAAE;MAE1B,OAAO,EAAE,IAAI,CAACN,gBAAgB;;IAIlC,OAAO,IAAI,CAACK,KAAK,CAACO,MAAM,GAAG,aAAa,GAAG,MAAM,CAAC,CAACD,IAAI,CAAC;EAE5D,CAAC;EAEDZ,OAAA,CAAAI,SAAA,CAAAU,IAAI,GAAJ,UAAKF,IAAO;IACR,OAAO,IAAI,CAACD,MAAM,CAACC,IAAI,EAAE,KAAK,CAAC;EACnC,CAAC;EAEDZ,OAAA,CAAAI,SAAA,CAAAW,WAAW,GAAX,UAAYH,IAAO;IACf,OAAO,IAAI,CAACD,MAAM,CAACC,IAAI,EAAE,IAAI,CAAC;EAClC,CAAC;EAEL,OAAAZ,OAAC;AAAD,CAAC,CAvCD;AAAagB,OAAA,CAAAhB,OAAA,GAAAA,OAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}