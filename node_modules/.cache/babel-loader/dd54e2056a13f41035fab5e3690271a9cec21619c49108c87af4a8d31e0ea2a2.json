{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCtxFactory = void 0;\n// @denoify-line-ignore\nvar WeakMap_1 = require(\"minimal-polyfills/WeakMap\");\nvar importProxy_1 = require(\"./importProxy\");\n/**\n * https://docs.evt.land/api/evt/getctx\n *\n * Evt.getCtx(obj) an instance of Ctx<void>, always the same for a given object.\n * No strong reference to the object is created\n * when the object is no longer referenced it's associated Ctx will be freed from memory.\n */\nfunction getCtxFactory() {\n  var ctxByObj = new WeakMap_1.Polyfill();\n  function getCtx(obj) {\n    var ctx = ctxByObj.get(obj);\n    if (ctx === undefined) {\n      ctx = new importProxy_1.importProxy.Ctx();\n      ctxByObj.set(obj, ctx);\n    }\n    return ctx;\n  }\n  return getCtx;\n}\nexports.getCtxFactory = getCtxFactory;","map":{"version":3,"names":["WeakMap_1","require","importProxy_1","getCtxFactory","ctxByObj","Polyfill","getCtx","obj","ctx","get","undefined","importProxy","Ctx","set","exports"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\evt-npm-2.5.3-c2ac0365d2-10c0.zip\\node_modules\\evt\\src\\lib\\Evt.getCtx.ts"],"sourcesContent":["// @denoify-line-ignore\nimport { Polyfill as WeakMap } from \"minimal-polyfills/WeakMap\";\nimport { importProxy } from \"./importProxy\";\nimport type { Ctx }Â from \"./types\";\n\n/** \n * https://docs.evt.land/api/evt/getctx\n * \n * Evt.getCtx(obj) an instance of Ctx<void>, always the same for a given object.\n * No strong reference to the object is created\n * when the object is no longer referenced it's associated Ctx will be freed from memory.\n */\nexport function getCtxFactory() {\n\n    const ctxByObj = new WeakMap<object, Ctx>();\n\n    function getCtx(obj: object): Ctx {\n\n        let ctx = ctxByObj.get(obj);\n\n        if (ctx === undefined) {\n\n            ctx = (new importProxy.Ctx());\n\n            ctxByObj.set(obj, ctx);\n\n        }\n\n        return ctx;\n\n    }\n\n    return getCtx;\n\n}\n"],"mappings":";;;;;;AAAA;AACA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AAGA;;;;;;;AAOA,SAAgBE,aAAaA,CAAA;EAEzB,IAAMC,QAAQ,GAAG,IAAIJ,SAAA,CAAAK,QAAO,EAAe;EAE3C,SAASC,MAAMA,CAACC,GAAW;IAEvB,IAAIC,GAAG,GAAGJ,QAAQ,CAACK,GAAG,CAACF,GAAG,CAAC;IAE3B,IAAIC,GAAG,KAAKE,SAAS,EAAE;MAEnBF,GAAG,GAAI,IAAIN,aAAA,CAAAS,WAAW,CAACC,GAAG,EAAG;MAE7BR,QAAQ,CAACS,GAAG,CAACN,GAAG,EAAEC,GAAG,CAAC;;IAI1B,OAAOA,GAAG;EAEd;EAEA,OAAOF,MAAM;AAEjB;AAtBAQ,OAAA,CAAAX,aAAA,GAAAA,aAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}