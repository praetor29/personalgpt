{"ast":null,"code":"import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\nvar presenceId = 0;\nfunction getPresenceId() {\n  var id = presenceId;\n  presenceId++;\n  return id;\n}\nvar PresenceChild = function (_a) {\n  var children = _a.children,\n    initial = _a.initial,\n    isPresent = _a.isPresent,\n    onExitComplete = _a.onExitComplete,\n    custom = _a.custom,\n    presenceAffectsLayout = _a.presenceAffectsLayout;\n  var presenceChildren = useConstant(newChildrenMap);\n  var id = useConstant(getPresenceId);\n  var context = useMemo(function () {\n    return {\n      id: id,\n      initial: initial,\n      isPresent: isPresent,\n      custom: custom,\n      onExitComplete: function (childId) {\n        presenceChildren.set(childId, true);\n        var allComplete = true;\n        presenceChildren.forEach(function (isComplete) {\n          if (!isComplete) allComplete = false;\n        });\n        allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n      },\n      register: function (childId) {\n        presenceChildren.set(childId, false);\n        return function () {\n          return presenceChildren.delete(childId);\n        };\n      }\n    };\n  },\n  /**\n   * If the presence of a child affects the layout of the components around it,\n   * we want to make a new context value to ensure they get re-rendered\n   * so they can detect that layout change.\n   */\n  presenceAffectsLayout ? undefined : [isPresent]);\n  useMemo(function () {\n    presenceChildren.forEach(function (_, key) {\n      return presenceChildren.set(key, false);\n    });\n  }, [isPresent]);\n  /**\n   * If there's no `motion` components to fire exit animations, we want to remove this\n   * component immediately.\n   */\n  React.useEffect(function () {\n    !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n  }, [isPresent]);\n  return React.createElement(PresenceContext.Provider, {\n    value: context\n  }, children);\n};\nfunction newChildrenMap() {\n  return new Map();\n}\nexport { PresenceChild };","map":{"version":3,"names":["React","useMemo","PresenceContext","useConstant","presenceId","getPresenceId","id","PresenceChild","_a","children","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","newChildrenMap","context","childId","set","allComplete","forEach","isComplete","register","delete","undefined","_","key","useEffect","size","createElement","Provider","value","Map"],"sources":["C:/Users/prana/repos/personalgpt/.yarn/__virtual__/framer-motion-virtual-4606bf46ad/3/AppData/Local/Yarn/Berry/cache/framer-motion-npm-4.1.17-00d2b9950f-10c0.zip/node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js"],"sourcesContent":["import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,eAAe,QAAQ,kCAAkC;AAClE,SAASC,WAAW,QAAQ,6BAA6B;AAEzD,IAAIC,UAAU,GAAG,CAAC;AAClB,SAASC,aAAaA,CAAA,EAAG;EACrB,IAAIC,EAAE,GAAGF,UAAU;EACnBA,UAAU,EAAE;EACZ,OAAOE,EAAE;AACb;AACA,IAAIC,aAAa,GAAG,SAAAA,CAAUC,EAAE,EAAE;EAC9B,IAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAQ;IAAEC,OAAO,GAAGF,EAAE,CAACE,OAAO;IAAEC,SAAS,GAAGH,EAAE,CAACG,SAAS;IAAEC,cAAc,GAAGJ,EAAE,CAACI,cAAc;IAAEC,MAAM,GAAGL,EAAE,CAACK,MAAM;IAAEC,qBAAqB,GAAGN,EAAE,CAACM,qBAAqB;EACpL,IAAIC,gBAAgB,GAAGZ,WAAW,CAACa,cAAc,CAAC;EAClD,IAAIV,EAAE,GAAGH,WAAW,CAACE,aAAa,CAAC;EACnC,IAAIY,OAAO,GAAGhB,OAAO,CAAC,YAAY;IAAE,OAAQ;MACxCK,EAAE,EAAEA,EAAE;MACNI,OAAO,EAAEA,OAAO;MAChBC,SAAS,EAAEA,SAAS;MACpBE,MAAM,EAAEA,MAAM;MACdD,cAAc,EAAE,SAAAA,CAAUM,OAAO,EAAE;QAC/BH,gBAAgB,CAACI,GAAG,CAACD,OAAO,EAAE,IAAI,CAAC;QACnC,IAAIE,WAAW,GAAG,IAAI;QACtBL,gBAAgB,CAACM,OAAO,CAAC,UAAUC,UAAU,EAAE;UAC3C,IAAI,CAACA,UAAU,EACXF,WAAW,GAAG,KAAK;QAC3B,CAAC,CAAC;QACFA,WAAW,KAAKR,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAAC,CAAC,CAAC;MACrG,CAAC;MACDW,QAAQ,EAAE,SAAAA,CAAUL,OAAO,EAAE;QACzBH,gBAAgB,CAACI,GAAG,CAACD,OAAO,EAAE,KAAK,CAAC;QACpC,OAAO,YAAY;UAAE,OAAOH,gBAAgB,CAACS,MAAM,CAACN,OAAO,CAAC;QAAE,CAAC;MACnE;IACJ,CAAC;EAAG,CAAC;EACL;AACJ;AACA;AACA;AACA;EACIJ,qBAAqB,GAAGW,SAAS,GAAG,CAACd,SAAS,CAAC,CAAC;EAChDV,OAAO,CAAC,YAAY;IAChBc,gBAAgB,CAACM,OAAO,CAAC,UAAUK,CAAC,EAAEC,GAAG,EAAE;MAAE,OAAOZ,gBAAgB,CAACI,GAAG,CAACQ,GAAG,EAAE,KAAK,CAAC;IAAE,CAAC,CAAC;EAC5F,CAAC,EAAE,CAAChB,SAAS,CAAC,CAAC;EACf;AACJ;AACA;AACA;EACIX,KAAK,CAAC4B,SAAS,CAAC,YAAY;IACxB,CAACjB,SAAS,IAAI,CAACI,gBAAgB,CAACc,IAAI,KAAKjB,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAAC,CAAC,CAAC;EAC9H,CAAC,EAAE,CAACD,SAAS,CAAC,CAAC;EACf,OAAQX,KAAK,CAAC8B,aAAa,CAAC5B,eAAe,CAAC6B,QAAQ,EAAE;IAAEC,KAAK,EAAEf;EAAQ,CAAC,EAAER,QAAQ,CAAC;AACvF,CAAC;AACD,SAASO,cAAcA,CAAA,EAAG;EACtB,OAAO,IAAIiB,GAAG,CAAC,CAAC;AACpB;AAEA,SAAS1B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}