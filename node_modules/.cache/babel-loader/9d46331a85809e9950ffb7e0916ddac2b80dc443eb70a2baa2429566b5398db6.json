{"ast":null,"code":"/* eslint consistent-this: 0 */\n\n// Timeout cached values\n\n\"use strict\";\n\nvar aFrom = require(\"es5-ext/array/from\"),\n  forEach = require(\"es5-ext/object/for-each\"),\n  nextTick = require(\"next-tick\"),\n  isPromise = require(\"is-promise\"),\n  timeout = require(\"timers-ext/valid-timeout\"),\n  extensions = require(\"../lib/registered-extensions\");\nvar noop = Function.prototype,\n  max = Math.max,\n  min = Math.min,\n  create = Object.create;\nextensions.maxAge = function (maxAge, conf, options) {\n  var timeouts, postfix, preFetchAge, preFetchTimeouts;\n  maxAge = timeout(maxAge);\n  if (!maxAge) return;\n  timeouts = create(null);\n  postfix = options.async && extensions.async || options.promise && extensions.promise ? \"async\" : \"\";\n  conf.on(\"set\" + postfix, function (id) {\n    timeouts[id] = setTimeout(function () {\n      conf.delete(id);\n    }, maxAge);\n    if (typeof timeouts[id].unref === \"function\") timeouts[id].unref();\n    if (!preFetchTimeouts) return;\n    if (preFetchTimeouts[id]) {\n      if (preFetchTimeouts[id] !== \"nextTick\") clearTimeout(preFetchTimeouts[id]);\n    }\n    preFetchTimeouts[id] = setTimeout(function () {\n      delete preFetchTimeouts[id];\n    }, preFetchAge);\n    if (typeof preFetchTimeouts[id].unref === \"function\") preFetchTimeouts[id].unref();\n  });\n  conf.on(\"delete\" + postfix, function (id) {\n    clearTimeout(timeouts[id]);\n    delete timeouts[id];\n    if (!preFetchTimeouts) return;\n    if (preFetchTimeouts[id] !== \"nextTick\") clearTimeout(preFetchTimeouts[id]);\n    delete preFetchTimeouts[id];\n  });\n  if (options.preFetch) {\n    if (options.preFetch === true || isNaN(options.preFetch)) {\n      preFetchAge = 0.333;\n    } else {\n      preFetchAge = max(min(Number(options.preFetch), 1), 0);\n    }\n    if (preFetchAge) {\n      preFetchTimeouts = {};\n      preFetchAge = (1 - preFetchAge) * maxAge;\n      conf.on(\"get\" + postfix, function (id, args, context) {\n        if (!preFetchTimeouts[id]) {\n          preFetchTimeouts[id] = \"nextTick\";\n          nextTick(function () {\n            var result;\n            if (preFetchTimeouts[id] !== \"nextTick\") return;\n            delete preFetchTimeouts[id];\n            conf.delete(id);\n            if (options.async) {\n              args = aFrom(args);\n              args.push(noop);\n            }\n            result = conf.memoized.apply(context, args);\n            if (options.promise) {\n              // Supress eventual error warnings\n              if (isPromise(result)) {\n                if (typeof result.done === \"function\") result.done(noop, noop);else result.then(noop, noop);\n              }\n            }\n          });\n        }\n      });\n    }\n  }\n  conf.on(\"clear\" + postfix, function () {\n    forEach(timeouts, function (id) {\n      clearTimeout(id);\n    });\n    timeouts = {};\n    if (preFetchTimeouts) {\n      forEach(preFetchTimeouts, function (id) {\n        if (id !== \"nextTick\") clearTimeout(id);\n      });\n      preFetchTimeouts = {};\n    }\n  });\n};","map":{"version":3,"names":["aFrom","require","forEach","nextTick","isPromise","timeout","extensions","noop","Function","prototype","max","Math","min","create","Object","maxAge","conf","options","timeouts","postfix","preFetchAge","preFetchTimeouts","async","promise","on","id","setTimeout","delete","unref","clearTimeout","preFetch","isNaN","Number","args","context","result","push","memoized","apply","done","then"],"sources":["C:/Users/prana/AppData/Local/Yarn/Berry/cache/memoizee-npm-0.4.15-69d374fc14-10c0.zip/node_modules/memoizee/ext/max-age.js"],"sourcesContent":["/* eslint consistent-this: 0 */\n\n// Timeout cached values\n\n\"use strict\";\n\nvar aFrom      = require(\"es5-ext/array/from\")\n  , forEach    = require(\"es5-ext/object/for-each\")\n  , nextTick   = require(\"next-tick\")\n  , isPromise  = require(\"is-promise\")\n  , timeout    = require(\"timers-ext/valid-timeout\")\n  , extensions = require(\"../lib/registered-extensions\");\n\nvar noop = Function.prototype, max = Math.max, min = Math.min, create = Object.create;\n\nextensions.maxAge = function (maxAge, conf, options) {\n\tvar timeouts, postfix, preFetchAge, preFetchTimeouts;\n\n\tmaxAge = timeout(maxAge);\n\tif (!maxAge) return;\n\n\ttimeouts = create(null);\n\tpostfix =\n\t\t(options.async && extensions.async) || (options.promise && extensions.promise)\n\t\t\t? \"async\"\n\t\t\t: \"\";\n\tconf.on(\"set\" + postfix, function (id) {\n\t\ttimeouts[id] = setTimeout(function () { conf.delete(id); }, maxAge);\n\t\tif (typeof timeouts[id].unref === \"function\") timeouts[id].unref();\n\t\tif (!preFetchTimeouts) return;\n\t\tif (preFetchTimeouts[id]) {\n\t\t\tif (preFetchTimeouts[id] !== \"nextTick\") clearTimeout(preFetchTimeouts[id]);\n\t\t}\n\t\tpreFetchTimeouts[id] = setTimeout(function () {\n\t\t\tdelete preFetchTimeouts[id];\n\t\t}, preFetchAge);\n\t\tif (typeof preFetchTimeouts[id].unref === \"function\") preFetchTimeouts[id].unref();\n\t});\n\tconf.on(\"delete\" + postfix, function (id) {\n\t\tclearTimeout(timeouts[id]);\n\t\tdelete timeouts[id];\n\t\tif (!preFetchTimeouts) return;\n\t\tif (preFetchTimeouts[id] !== \"nextTick\") clearTimeout(preFetchTimeouts[id]);\n\t\tdelete preFetchTimeouts[id];\n\t});\n\n\tif (options.preFetch) {\n\t\tif (options.preFetch === true || isNaN(options.preFetch)) {\n\t\t\tpreFetchAge = 0.333;\n\t\t} else {\n\t\t\tpreFetchAge = max(min(Number(options.preFetch), 1), 0);\n\t\t}\n\t\tif (preFetchAge) {\n\t\t\tpreFetchTimeouts = {};\n\t\t\tpreFetchAge = (1 - preFetchAge) * maxAge;\n\t\t\tconf.on(\"get\" + postfix, function (id, args, context) {\n\t\t\t\tif (!preFetchTimeouts[id]) {\n\t\t\t\t\tpreFetchTimeouts[id] = \"nextTick\";\n\t\t\t\t\tnextTick(function () {\n\t\t\t\t\t\tvar result;\n\t\t\t\t\t\tif (preFetchTimeouts[id] !== \"nextTick\") return;\n\t\t\t\t\t\tdelete preFetchTimeouts[id];\n\t\t\t\t\t\tconf.delete(id);\n\t\t\t\t\t\tif (options.async) {\n\t\t\t\t\t\t\targs = aFrom(args);\n\t\t\t\t\t\t\targs.push(noop);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = conf.memoized.apply(context, args);\n\t\t\t\t\t\tif (options.promise) {\n\t\t\t\t\t\t\t// Supress eventual error warnings\n\t\t\t\t\t\t\tif (isPromise(result)) {\n\t\t\t\t\t\t\t\tif (typeof result.done === \"function\") result.done(noop, noop);\n\t\t\t\t\t\t\t\telse result.then(noop, noop);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tconf.on(\"clear\" + postfix, function () {\n\t\tforEach(timeouts, function (id) { clearTimeout(id); });\n\t\ttimeouts = {};\n\t\tif (preFetchTimeouts) {\n\t\t\tforEach(preFetchTimeouts, function (id) { if (id !== \"nextTick\") clearTimeout(id); });\n\t\t\tpreFetchTimeouts = {};\n\t\t}\n\t});\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}