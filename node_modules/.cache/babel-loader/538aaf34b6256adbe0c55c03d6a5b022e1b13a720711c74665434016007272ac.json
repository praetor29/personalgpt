{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useStickyTop = void 0;\nvar react_1 = require(\"react\");\nvar assert_1 = require(\"tsafe/assert\");\nvar useDomRect_1 = require(\"./useDomRect\");\nvar getScrollableParent_1 = require(\"./getScrollableParent\");\nvar useStateRef_1 = require(\"./useStateRef\");\nfunction useStickyTop(params) {\n  var _a;\n  var internallyCreatedRef = (0, useStateRef_1.useStateRef)(null);\n  var ref = (_a = params === null || params === void 0 ? void 0 : params.ref) !== null && _a !== void 0 ? _a : internallyCreatedRef;\n  var topSticky = (0, useDomRect_1.useDomRect)({\n    ref: ref\n  }).domRect.top;\n  var _b = __read((0, react_1.useState)(undefined), 2),\n    top = _b[0],\n    setTop = _b[1];\n  (0, react_1.useEffect)(function () {\n    /*\n        if (top !== undefined) {\n            return;\n        }\n        */\n    if (topSticky === 0) {\n      return;\n    }\n    var element = ref.current;\n    (0, assert_1.assert)(element !== null);\n    var topScrollable = (0, getScrollableParent_1.getScrollableParent)({\n      \"element\": element,\n      \"doReturnElementIfScrollable\": false\n    }).getBoundingClientRect().top;\n    setTop(topSticky - topScrollable);\n  }, [topSticky]);\n  return {\n    top: top,\n    ref: ref\n  };\n}\nexports.useStickyTop = useStickyTop;","map":{"version":3,"names":["react_1","require","assert_1","useDomRect_1","getScrollableParent_1","useStateRef_1","useStickyTop","params","internallyCreatedRef","useStateRef","ref","_a","topSticky","useDomRect","domRect","top","_b","__read","useState","undefined","setTop","useEffect","element","current","assert","topScrollable","getScrollableParent","getBoundingClientRect","exports"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\powerhooks-npm-0.20.32-d63ff31bfd-10c0.zip\\node_modules\\powerhooks\\src\\useStickyTop.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { assert } from \"tsafe/assert\";\nimport { useDomRect } from \"./useDomRect\";\nimport { getScrollableParent } from \"./getScrollableParent\";\nimport { useStateRef } from \"./useStateRef\";\n\nexport function useStickyTop<T extends HTMLElement = any>(): { ref: React.RefObject<T>; top: number | undefined; }\nexport function useStickyTop<T extends HTMLElement = any>(params: { ref: React.RefObject<T>; }): { top: number | undefined; };\nexport function useStickyTop<T extends HTMLElement = any>(params?: { ref: React.RefObject<T>; }): { ref: React.RefObject<T>; top: number | undefined; } {\n\n    const internallyCreatedRef = useStateRef<T>(null);\n\n    const ref = params?.ref ?? internallyCreatedRef;\n\n    const {\n        domRect: { top: topSticky },\n    } = useDomRect<T>({ ref });\n\n    const [top, setTop] = useState<number | undefined>(undefined);\n\n    useEffect(() => {\n        /*\n            if (top !== undefined) {\n                return;\n            }\n            */\n        if (topSticky === 0) {\n            return;\n        }\n\n        const element = ref.current;\n\n        assert(element !== null);\n\n        const { top: topScrollable } = getScrollableParent({\n            \"element\": element,\n            \"doReturnElementIfScrollable\": false\n        }).getBoundingClientRect();\n\n        setTop(topSticky - topScrollable);\n    }, [topSticky]);\n\n    return { top, ref };\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AACA,IAAAG,qBAAA,GAAAH,OAAA;AACA,IAAAI,aAAA,GAAAJ,OAAA;AAIA,SAAgBK,YAAYA,CAA8BC,MAAqC;;EAE3F,IAAMC,oBAAoB,GAAG,IAAAH,aAAA,CAAAI,WAAW,EAAI,IAAI,CAAC;EAEjD,IAAMC,GAAG,GAAG,CAAAC,EAAA,GAAAJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,GAAG,cAAAC,EAAA,cAAAA,EAAA,GAAIH,oBAAoB;EAGhC,IAAKI,SAAS,GACzB,IAAAT,YAAA,CAAAU,UAAU,EAAI;IAAEH,GAAG,EAAAA;EAAA,CAAE,CAAC,CAAAI,OAAA,CAAAC,GADG;EAGvB,IAAAC,EAAA,GAAAC,MAAA,CAAgB,IAAAjB,OAAA,CAAAkB,QAAQ,EAAqBC,SAAS,CAAC;IAAtDJ,GAAG,GAAAC,EAAA;IAAEI,MAAM,GAAAJ,EAAA,GAA2C;EAE7D,IAAAhB,OAAA,CAAAqB,SAAS,EAAC;IACN;;;;;IAKA,IAAIT,SAAS,KAAK,CAAC,EAAE;MACjB;;IAGJ,IAAMU,OAAO,GAAGZ,GAAG,CAACa,OAAO;IAE3B,IAAArB,QAAA,CAAAsB,MAAM,EAACF,OAAO,KAAK,IAAI,CAAC;IAEhB,IAAKG,aAAa,GAAK,IAAArB,qBAAA,CAAAsB,mBAAmB,EAAC;MAC/C,SAAS,EAAEJ,OAAO;MAClB,6BAA6B,EAAE;KAClC,CAAC,CAACK,qBAAqB,EAAE,CAAAZ,GAHA;IAK1BK,MAAM,CAACR,SAAS,GAAGa,aAAa,CAAC;EACrC,CAAC,EAAE,CAACb,SAAS,CAAC,CAAC;EAEf,OAAO;IAAEG,GAAG,EAAAA,GAAA;IAAEL,GAAG,EAAAA;EAAA,CAAE;AAEvB;AApCAkB,OAAA,CAAAtB,YAAA,GAAAA,YAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}