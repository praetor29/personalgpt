{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStatefulObservable = void 0;\nfunction createStatefulObservable(getInitialValue) {\n  var nextFunctions = [];\n  var _a = function () {\n      var wrappedState = undefined;\n      return {\n        \"get\": function () {\n          if (wrappedState === undefined) {\n            wrappedState = [getInitialValue()];\n          }\n          return wrappedState[0];\n        },\n        \"set\": function (data) {\n          wrappedState = [data];\n          nextFunctions.forEach(function (next) {\n            return next(data);\n          });\n        }\n      };\n    }(),\n    get = _a.get,\n    set = _a.set;\n  return Object.defineProperty({\n    \"current\": null,\n    \"subscribe\": function (next) {\n      nextFunctions.push(next);\n      return {\n        \"unsubscribe\": function () {\n          return nextFunctions.splice(nextFunctions.indexOf(next), 1);\n        }\n      };\n    }\n  }, \"current\", {\n    \"enumerable\": true,\n    get: get,\n    set: set\n  });\n}\nexports.createStatefulObservable = createStatefulObservable;","map":{"version":3,"names":["createStatefulObservable","getInitialValue","nextFunctions","_a","wrappedState","undefined","get","set","data","forEach","next","Object","defineProperty","subscribe","push","unsubscribe","splice","indexOf","exports"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\powerhooks-npm-0.20.32-d63ff31bfd-10c0.zip\\node_modules\\powerhooks\\src\\tools\\StatefulObservable\\StatefulObservable.ts"],"sourcesContent":["\nexport type StatefulObservable<T> = {\n    current: T;\n    subscribe: (next: (data: T) => void) => Subscription;\n};\n\n    export type Subscription = {\n        unsubscribe(): void;\n    };\n\n\nexport function createStatefulObservable<T>(getInitialValue: () => T): StatefulObservable<T> {\n\n\n    let nextFunctions: ((data: T) => void)[] = [];\n\n    const { get, set } = (() => {\n\n        let wrappedState: [T] | undefined = undefined;\n\n        return {\n        \"get\": ()=> {\n            if( wrappedState === undefined ){\n                wrappedState = [getInitialValue()];\n            }\n            return wrappedState[0];\n        },\n        \"set\": (data: T) =>{\n\n            wrappedState = [data];\n\n            nextFunctions.forEach(next => next(data));\n\n        }\n        };\n\n    })();\n\n    return Object.defineProperty({ \n        \"current\": null as any as T,\n        \"subscribe\": (next: (data: T) => void) => {\n\n            nextFunctions.push(next);\n\n            return { \"unsubscribe\": () => nextFunctions.splice(nextFunctions.indexOf(next), 1) };\n\n        }\n    }, \"current\", {\n        \"enumerable\": true,\n        get, set\n    });\n\n\n}"],"mappings":";;;;;;AAWA,SAAgBA,wBAAwBA,CAAIC,eAAwB;EAGhE,IAAIC,aAAa,GAA0B,EAAE;EAEvC,IAAAC,EAAA,GAAgB;MAElB,IAAIC,YAAY,GAAoBC,SAAS;MAE7C,OAAO;QACP,KAAK,EAAE,SAAAC,CAAA;UACH,IAAIF,YAAY,KAAKC,SAAS,EAAE;YAC5BD,YAAY,GAAG,CAACH,eAAe,EAAE,CAAC;;UAEtC,OAAOG,YAAY,CAAC,CAAC,CAAC;QAC1B,CAAC;QACD,KAAK,EAAE,SAAAG,CAACC,IAAO;UAEXJ,YAAY,GAAG,CAACI,IAAI,CAAC;UAErBN,aAAa,CAACO,OAAO,CAAC,UAAAC,IAAI;YAAI,OAAAA,IAAI,CAACF,IAAI,CAAC;UAAV,CAAU,CAAC;QAE7C;OACC;IAEL,CAAC,CAAC,CAAE;IApBIF,GAAG,GAAAH,EAAA,CAAAG,GAAA;IAAEC,GAAG,GAAAJ,EAAA,CAAAI,GAoBZ;EAEJ,OAAOI,MAAM,CAACC,cAAc,CAAC;IACzB,SAAS,EAAE,IAAgB;IAC3B,WAAW,EAAE,SAAAC,CAACH,IAAuB;MAEjCR,aAAa,CAACY,IAAI,CAACJ,IAAI,CAAC;MAExB,OAAO;QAAE,aAAa,EAAE,SAAAK,CAAA;UAAM,OAAAb,aAAa,CAACc,MAAM,CAACd,aAAa,CAACe,OAAO,CAACP,IAAI,CAAC,EAAE,CAAC,CAAC;QAApD;MAAoD,CAAE;IAExF;GACH,EAAE,SAAS,EAAE;IACV,YAAY,EAAE,IAAI;IAClBJ,GAAG,EAAAA,GAAA;IAAEC,GAAG,EAAAA;GACX,CAAC;AAGN;AA1CAW,OAAA,CAAAlB,wBAAA,GAAAA,wBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}