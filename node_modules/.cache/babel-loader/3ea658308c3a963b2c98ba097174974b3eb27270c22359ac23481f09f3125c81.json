{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VoidDeferred = exports.Deferred = void 0;\nvar overwriteReadonlyProp_1 = require(\"tsafe/lab/overwriteReadonlyProp\");\nvar Deferred = /** @class */function () {\n  function Deferred() {\n    var _this_1 = this;\n    this.isPending = true;\n    var resolve;\n    var reject;\n    this.pr = new Promise(function (resolve_, reject_) {\n      resolve = function (value) {\n        (0, overwriteReadonlyProp_1.overwriteReadonlyProp)(_this_1, \"isPending\", false);\n        resolve_(value);\n      };\n      reject = function (error) {\n        (0, overwriteReadonlyProp_1.overwriteReadonlyProp)(_this_1, \"isPending\", false);\n        reject_(error);\n      };\n    });\n    this.resolve = resolve;\n    this.reject = reject;\n  }\n  return Deferred;\n}();\nexports.Deferred = Deferred;\nvar VoidDeferred = /** @class */function (_super) {\n  __extends(VoidDeferred, _super);\n  function VoidDeferred() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return VoidDeferred;\n}(Deferred);\nexports.VoidDeferred = VoidDeferred;","map":{"version":3,"names":["overwriteReadonlyProp_1","require","Deferred","_this_1","isPending","resolve","reject","pr","Promise","resolve_","reject_","value","overwriteReadonlyProp","error","exports","VoidDeferred","_super","__extends"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\evt-npm-2.5.3-c2ac0365d2-10c0.zip\\node_modules\\evt\\src\\tools\\Deferred.ts"],"sourcesContent":["\nimport { overwriteReadonlyProp } from \"tsafe/lab/overwriteReadonlyProp\";\n\nexport class Deferred<T> {\n\n    public readonly pr: Promise<T>;\n\n    /** NOTE: Does not need to be called bound to instance*/\n    public readonly resolve: (value: T)=> void;\n    public readonly reject: (error: any)=> void;\n\n    constructor() {\n\n        let resolve!: (value: T)=> void;\n        let reject!: (error: any)=> void;\n\n        this.pr = new Promise<T>(\n            (resolve_, reject_) => {\n\n                resolve = value => {\n\n                    overwriteReadonlyProp(this, \"isPending\", false);\n                    resolve_(value);\n\n                };\n\n                reject = error => {\n\n\n                    overwriteReadonlyProp(this, \"isPending\", false);\n                    reject_(error);\n\n                };\n\n            }\n        );\n\n        this.resolve = resolve;\n        this.reject = reject;\n\n    }\n\n\n    public readonly isPending: boolean = true;\n\n\n}\n\nexport namespace Deferred {\n\n    export type Unpack<T extends Deferred<any>> = T extends Deferred<infer U> ? U : never;\n\n}\n\nexport class VoidDeferred extends Deferred<undefined>{\n\n    declare public readonly resolve: () => void;\n\n}\n\n\n\n\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAAA,uBAAA,GAAAC,OAAA;AAEA,IAAAC,QAAA;EAQI,SAAAA,SAAA;IAAA,IAAAC,OAAA;IAgCgB,KAAAC,SAAS,GAAY,IAAI;IA9BrC,IAAIC,OAA2B;IAC/B,IAAIC,MAA4B;IAEhC,IAAI,CAACC,EAAE,GAAG,IAAIC,OAAO,CACjB,UAACC,QAAQ,EAAEC,OAAO;MAEdL,OAAO,GAAG,SAAAA,CAAAM,KAAK;QAEX,IAAAX,uBAAA,CAAAY,qBAAqB,EAACT,OAAI,EAAE,WAAW,EAAE,KAAK,CAAC;QAC/CM,QAAQ,CAACE,KAAK,CAAC;MAEnB,CAAC;MAEDL,MAAM,GAAG,SAAAA,CAAAO,KAAK;QAGV,IAAAb,uBAAA,CAAAY,qBAAqB,EAACT,OAAI,EAAE,WAAW,EAAE,KAAK,CAAC;QAC/CO,OAAO,CAACG,KAAK,CAAC;MAElB,CAAC;IAEL,CAAC,CACJ;IAED,IAAI,CAACR,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,MAAM,GAAGA,MAAM;EAExB;EAMJ,OAAAJ,QAAC;AAAD,CAAC,CA3CD;AAAaY,OAAA,CAAAZ,QAAA,GAAAA,QAAA;AAmDb,IAAAa,YAAA,0BAAAC,MAAA;EAAkCC,SAAA,CAAAF,YAAA,EAAAC,MAAA;EAAlC,SAAAD,aAAA;;EAIA;EAAA,OAAAA,YAAC;AAAD,CAAC,CAJiCb,QAAQ;AAA7BY,OAAA,CAAAC,YAAA,GAAAA,YAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}