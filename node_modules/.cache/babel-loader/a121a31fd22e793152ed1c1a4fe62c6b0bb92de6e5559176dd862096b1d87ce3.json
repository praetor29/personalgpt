{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useStateRef = void 0;\nvar useConst_1 = require(\"./useConst\");\nvar evt_1 = require(\"evt\");\nvar useRerenderOnStateChange_1 = require(\"evt/hooks/useRerenderOnStateChange\");\nfunction useStateRef(initialValue) {\n  var evtElement = (0, useConst_1.useConst)(function () {\n    return evt_1.Evt.create(initialValue);\n  });\n  (0, useRerenderOnStateChange_1.useRerenderOnStateChange)(evtElement);\n  var ref = (0, useConst_1.useConst)(function () {\n    var ref = {};\n    Object.defineProperty(ref, \"current\", {\n      \"get\": function () {\n        return evtElement.state;\n      },\n      \"set\": function (current) {\n        return evtElement.state = current;\n      }\n    });\n    return {\n      ref: ref\n    };\n  }).ref;\n  return ref;\n}\nexports.useStateRef = useStateRef;","map":{"version":3,"names":["useConst_1","require","evt_1","useRerenderOnStateChange_1","useStateRef","initialValue","evtElement","useConst","Evt","create","useRerenderOnStateChange","ref","Object","defineProperty","get","state","set","current","exports"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\powerhooks-npm-0.20.32-d63ff31bfd-10c0.zip\\node_modules\\powerhooks\\src\\useStateRef.ts"],"sourcesContent":["import type { MutableRefObject, RefObject } from \"react\";\nimport { useConst } from \"./useConst\";\nimport { Evt } from \"evt\";\nimport { useRerenderOnStateChange } from \"evt/hooks/useRerenderOnStateChange\";\n\n//NOTE: It's like useRef but when the value changes, it will trigger a re-render (hence ref.current is a state of the component).\n\nexport function useStateRef<T>(initialValue: T): MutableRefObject<T>;\nexport function useStateRef<T>(initialValue: T|null): RefObject<T>;\nexport function useStateRef<T>(initialValue: T|null): MutableRefObject<T>{\n\n    const evtElement = useConst(() => Evt.create<T | null>(initialValue));\n\n    useRerenderOnStateChange(evtElement);\n\n    const { ref } = useConst(() => {\n\n        const ref: MutableRefObject<T> = {} as any;\n\n        Object.defineProperty(ref, \"current\", {\n            \"get\": ()=> evtElement.state,\n            \"set\": (current: T | null)=> evtElement.state = current\n        });\n\n        return { ref };\n\n    });\n\n    return ref;\n\n}"],"mappings":";;;;;;AACA,IAAAA,UAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,0BAAA,GAAAF,OAAA;AAMA,SAAgBG,WAAWA,CAAIC,YAAoB;EAE/C,IAAMC,UAAU,GAAG,IAAAN,UAAA,CAAAO,QAAQ,EAAC;IAAM,OAAAL,KAAA,CAAAM,GAAG,CAACC,MAAM,CAAWJ,YAAY,CAAC;EAAlC,CAAkC,CAAC;EAErE,IAAAF,0BAAA,CAAAO,wBAAwB,EAACJ,UAAU,CAAC;EAE5B,IAAAK,GAAG,GAAK,IAAAX,UAAA,CAAAO,QAAQ,EAAC;IAErB,IAAMI,GAAG,GAAwB,EAAS;IAE1CC,MAAM,CAACC,cAAc,CAACF,GAAG,EAAE,SAAS,EAAE;MAClC,KAAK,EAAE,SAAAG,CAAA;QAAK,OAAAR,UAAU,CAACS,KAAK;MAAhB,CAAgB;MAC5B,KAAK,EAAE,SAAAC,CAACC,OAAiB;QAAI,OAAAX,UAAU,CAACS,KAAK,GAAGE,OAAO;MAA1B;KAChC,CAAC;IAEF,OAAO;MAAEN,GAAG,EAAAA;IAAA,CAAE;EAElB,CAAC,CAAC,CAAAA,GAXS;EAaX,OAAOA,GAAG;AAEd;AArBAO,OAAA,CAAAd,WAAA,GAAAA,WAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}