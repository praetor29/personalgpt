{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useRerenderOnStateChange = void 0;\nvar useEvt_1 = require(\"./useEvt\");\nvar React = __importStar(require(\"react\"));\nvar useState = React.useState;\n;\n/**\n * https://docs.evt.land/react-hooks#usererenderonstatechange\n *\n * To use StatefulEvt as react component state.\n * */\nfunction useRerenderOnStateChange(evt) {\n  //NOTE: We use function in case the state is a function\n  var _a = __read(useState(function () {\n      return evt.state;\n    }), 2),\n    setState = _a[1];\n  (0, useEvt_1.useEvt)(function (ctx) {\n    return evt.attach(ctx, function (state) {\n      return setState(function () {\n        return state;\n      });\n    });\n  }, [evt]);\n}\nexports.useRerenderOnStateChange = useRerenderOnStateChange;","map":{"version":3,"names":["useEvt_1","require","React","__importStar","useState","useRerenderOnStateChange","evt","_a","__read","state","setState","useEvt","ctx","attach","exports"],"sources":["C:\\Users\\prana\\AppData\\Local\\Yarn\\Berry\\cache\\evt-npm-2.5.3-c2ac0365d2-10c0.zip\\node_modules\\evt\\src\\hooks\\useRerenderOnStateChange.ts"],"sourcesContent":["import { useEvt } from \"./useEvt\";\nimport * as React from \"react\";\nconst { useState } = React;\n\ntype CtxLike<Result = any> = import(\"../lib/types/interfaces/CtxLike\").CtxLike<Result>;\n\ninterface StatefulReadonlyEvtLike {\n    state: unknown;\n    attach: (ctx: CtxLike, cb: (state: unknown)=> void)=> void;\n};\n\n/**\n * https://docs.evt.land/react-hooks#usererenderonstatechange\n * \n * To use StatefulEvt as react component state.\n * */\nexport function useRerenderOnStateChange(evt: StatefulReadonlyEvtLike): void {\n\n    //NOTE: We use function in case the state is a function\n    const [, setState] = useState(() => evt.state);\n\n    useEvt(\n        ctx =>\n            evt.attach(ctx, state => setState(() => state)),\n        [evt]\n    );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAC,YAAA,CAAAF,OAAA;AACQ,IAAAG,QAAQ,GAAKF,KAAK,CAAAE,QAAV;AAOf;AAED;;;;;AAKA,SAAgBC,wBAAwBA,CAACC,GAA4B;EAEjE;EACM,IAAAC,EAAA,GAAAC,MAAA,CAAeJ,QAAQ,CAAC;MAAM,OAAAE,GAAG,CAACG,KAAK;IAAT,CAAS,CAAC;IAArCC,QAAQ,GAAAH,EAAA,GAA6B;EAE9C,IAAAP,QAAA,CAAAW,MAAM,EACF,UAAAC,GAAG;IACC,OAAAN,GAAG,CAACO,MAAM,CAACD,GAAG,EAAE,UAAAH,KAAK;MAAI,OAAAC,QAAQ,CAAC;QAAM,OAAAD,KAAK;MAAL,CAAK,CAAC;IAArB,CAAqB,CAAC;EAA/C,CAA+C,EACnD,CAACH,GAAG,CAAC,CACR;AACL;AAVAQ,OAAA,CAAAT,wBAAA,GAAAA,wBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}